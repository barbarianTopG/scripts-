local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Player = Players.LocalPlayer;
local Character = Player.Character or Player.CharacterAdded:Wait()
local HRP = Character:WaitForChild("HumanoidRootPart")
local Humanoid = Character:WaitForChild("Humanoid")
getgenv().Stuff = {
	TeleportBypass = true,
	ItemMagnitudeBypass = true,
	CrashBypass = true,
	AutoFarm = true,
	AutoSell = true,
	PurchaseLucky = true
}
local blacklist = {
	"Disc",
	"Bone",
	"Arm",
	"Umbrella",
	"Scythe",
	"Scyth",
	"Pluck",
	"Ligh",
	"Tea",
	"Bow",
	"Koichi",
	"Requiem",
	"Baby",
	"Redemmed",
	"Lucky",
	"Luck"
}
local function isBlacklisted(toolName)
	for _, word in pairs(blacklist) do
		if string.find(toolName, word) then
			return true
		end
	end;
	return false
end;
local function TeleportBypass()
	if getgenv().Stuff.TeleportBypass then
		local OldNamecallTP;
		OldNamecallTP = hookmetamethod(game, "__namecall", function(self, ...)
			local args = {
				...
			}
			local method = getnamecallmethod()
			if method == "InvokeServer" and args[1] == "idklolbrah2de" then
				return "  ___XP DE KEY"
			end;
			return OldNamecallTP(self, ...)
		end)
	end
end;
local function ItemMagnitudeBypass()
	if getgenv().Stuff.ItemMagnitudeBypass then
		local OldIndexItem;
		OldIndexItem = hookmetamethod(Player.Character.PrimaryPart.Position, "__index", function(self, key)
			if not checkcaller() and key:lower() == "magnitude" and getcallingscript().Name == "ItemSpawn" then
				return 0
			end;
			return OldIndexItem(self, key)
		end)
	end
end;
local function CrashBypass()
	if getgenv().Stuff.CrashBypass then
		local FunctionLibrary = require(ReplicatedStorage:WaitForChild("Modules").FunctionLibrary)
		local OldPcall = FunctionLibrary.pcall;
		FunctionLibrary.pcall = function(...)
			local f = ...
			if type(f) == "function" and #getupvalues(f) == 11 then
				return
			end;
			return OldPcall(...)
		end
	end
end;
local function RandomEquipTool()
	task.spawn(function()
		while getgenv().Stuff.AutoFarm and Character and Humanoid do
			local Backpack = Player:FindFirstChild("Backpack")
			if Backpack then
				local tools = {}
				for _, v in pairs(Backpack:GetChildren()) do
					if v:IsA("Tool") and not isBlacklisted(v.Name) then
						table.insert(tools, v)
					end
				end;
				if #tools > 0 then
					local tool = tools[math.random(1, #tools)]
					pcall(function()
						Humanoid:EquipTool(tool)
					end)
				end
			end;
			task.wait(1)
		end
	end)
end;
local function AutoSell()
	task.spawn(function()
		while getgenv().Stuff.AutoSell do
			local Living = workspace:FindFirstChild("Living")
			if Living then
				local Target = Living:FindFirstChild(Player.Name)
				if Target then
					local Event = Target:FindFirstChild("RemoteEvent")
					if Event then
						pcall(function()
							Event:FireServer("EndDialogue", {
								NPC = "Merchant",
								Option = "Option2",
								Dialogue = "Dialogue5"
							})
						end)
					end
				end
			end;
			task.wait(0.5)
		end
	end)
end;
local function AutoFarmItems()
	if getgenv().Stuff.AutoFarm then
		task.spawn(function()
			while getgenv().Stuff.AutoFarm and Character and HRP do
				local items = workspace.Item_Spawns.Items:GetChildren()
				if #items == 0 then
					HRP.CFrame = CFrame.new(298, -33, 165)
				else
					for _, Item in pairs(items) do
						if Item:IsA("Model") then
							local Prompt = Item:FindFirstChildOfClass("ProximityPrompt")
							if Prompt and Prompt.MaxActivationDistance ~= 0 then
								HRP.CFrame = Item.PrimaryPart.CFrame + Vector3.new(0, 3, 0)
								task.wait(0.8)
								pcall(function()
									fireproximityprompt(Prompt)
								end)
								task.wait(0.6)
							end
						end
					end
				end;
				task.wait(0.1)
			end
		end)
	end
end;
local function AutoPurchaseLuckyArrow()
	task.spawn(function()
		while getgenv().Stuff.PurchaseLucky do
			local Living = workspace:FindFirstChild("Living")
			if Living then
				local Target = Living:FindFirstChild(Player.Name)
				if Target then
					local Event = Target:FindFirstChild("RemoteEvent")
					if Event then
						Event:FireServer("PurchaseShopItem", {
							["ItemName"] = "1x Lucky Arrow"
						})
					end
				end
			end;
			task.wait(3)
		end
	end)
end;
TeleportBypass()
ItemMagnitudeBypass()
CrashBypass()
AutoFarmItems()
RandomEquipTool()
AutoSell()
AutoPurchaseLuckyArrow()
Player.CharacterAdded:Connect(function(newChar)
	Character = newChar;
	HRP = newChar:WaitForChild("HumanoidRootPart")
	Humanoid = newChar:WaitForChild("Humanoid")
	AutoFarmItems()
	RandomEquipTool()
	AutoSell()
	AutoPurchaseLuckyArrow()
end)
